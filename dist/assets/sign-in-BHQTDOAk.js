import{aj as v,r as a,F as k,j as e,B as f,T as C,V as h,a5 as F,X as L,ak as T,H as B}from"./index-PIQluyAR.js";import{C as V}from"./config-global-BrWtFIcI.js";import{I as A}from"./InputAdornment-CoqEq64S.js";function W(){const c=v(),[l,j]=a.useState(!1),[n,w]=a.useState("admin@gmail.com"),[o,S]=a.useState("123456"),[E,m]=a.useState(!1),[q,I]=a.useState(""),[p,d]=a.useState(""),[g,u]=a.useState(""),[D,x]=a.useState(""),b=()=>{let s=!0;return d(""),u(""),x(""),n||(d("Email is required"),s=!1),o||(u("Password is required"),s=!1),s},y=a.useCallback(async()=>{var s;if(b()){m(!0),I("");try{const r=await k.post("/admin/loginAdmin",{email:n,password:o}),{token:i,admin:t}=r.data.data;localStorage.setItem("_id",t._id),c.push("/otp")}catch(r){console.error("Login error:",r);const i=r==null?void 0:r.response,t=((s=i==null?void 0:i.data)==null?void 0:s.message)||"Login failed. Please try again.";t==="Email not found"?d(t):t==="Invalid password"?u(t):x(t)}finally{m(!1)}}},[n,o,c]),P=e.jsxs(f,{display:"flex",flexDirection:"column",alignItems:"flex-end",children:[e.jsx(h,{fullWidth:!0,name:"email",label:"Email address",defaultValue:"admin@gmail.com",value:n,onChange:s=>w(s.target.value),InputLabelProps:{shrink:!0},error:!!p,helperText:p,sx:{mb:3}}),e.jsx(h,{fullWidth:!0,name:"password",label:"Password",defaultValue:"123456",value:o,onChange:s=>S(s.target.value),InputLabelProps:{shrink:!0},type:l?"text":"password",error:!!g,helperText:g,InputProps:{endAdornment:e.jsx(A,{position:"end",children:e.jsx(F,{onClick:()=>j(!l),edge:"end",children:e.jsx(L,{icon:l?"solar:eye-bold":"solar:eye-closed-bold"})})})},sx:{mb:3}}),e.jsx(T,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",onClick:y,loading:E,children:"Sign in"})]});return e.jsxs(e.Fragment,{children:[e.jsx(f,{gap:1.5,display:"flex",flexDirection:"column",alignItems:"center",sx:{mb:5},children:e.jsx(C,{variant:"h5",children:"Sign in"})}),P]})}function N(){return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsxs("title",{children:[" ",`Sign in - ${V.appName}`]})}),e.jsx(W,{})]})}export{N as default};
