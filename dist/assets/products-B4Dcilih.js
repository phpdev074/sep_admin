import{r as m,al as Fr,k as cr,t as pr,b as ft,R as Xt,j as a,am as Nr,_ as W,an as Ct,J as Gt,P as zr,h as dr,v as mt,w as ur,I as fr,ao as mr,x as _r,M as Hr,ap as rt,aq as Vr,ar as qr,Q as Kt,as as Yr,d as ot,at as Qt,au as nt,av as Xr,F as be,aw as Ot,B as I,a4 as ct,U as hr,a5 as pt,X as xe,V as le,a9 as ke,W as Ne,a1 as Gr,a2 as Re,a3 as Kr,a6 as Qr,a7 as Jr,a8 as Jt,E as Zr,T as Pt,C as eo,ac as to,ad as ro,ae as oo,ax as no,af as jt,ag as ao,ay as io,ah as so,H as lo}from"./index-B4brXztS.js";import{C as co}from"./config-global-BrWtFIcI.js";import{T as po,e as uo}from"./table-empty-rows-CF0s5F1m.js";import{I as fo}from"./InputAdornment-C2X_FvA6.js";var St={};Object.defineProperty(St,"__esModule",{value:!0});var vr=St.default=void 0,mo=vo(m),ho=Fr;function gr(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(gr=function(o){return o?r:t})(e)}function vo(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=gr(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var c=n?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function go(e){return Object.keys(e).length===0}function xo(e=null){const t=mo.useContext(ho.ThemeContext);return!t||go(t)?e:t}vr=St.default=xo;var Q="top",re="bottom",oe="right",J="left",Et="auto",qe=[Q,re,oe,J],Se="start",He="end",bo="clippingParents",xr="viewport",Ue="popper",yo="reference",Zt=qe.reduce(function(e,t){return e.concat([t+"-"+Se,t+"-"+He])},[]),br=[].concat(qe,[Et]).reduce(function(e,t){return e.concat([t,t+"-"+Se,t+"-"+He])},[]),wo="beforeRead",Po="read",jo="afterRead",Co="beforeMain",Oo="main",To="afterMain",Ro="beforeWrite",ko="write",So="afterWrite",Eo=[wo,Po,jo,Co,Oo,To,Ro,ko,So];function pe(e){return e?(e.nodeName||"").toLowerCase():null}function ee(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function we(e){var t=ee(e).Element;return e instanceof t||e instanceof Element}function te(e){var t=ee(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function At(e){if(typeof ShadowRoot>"u")return!1;var t=ee(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Ao(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var o=t.styles[r]||{},n=t.attributes[r]||{},i=t.elements[r];!te(i)||!pe(i)||(Object.assign(i.style,o),Object.keys(n).forEach(function(c){var s=n[c];s===!1?i.removeAttribute(c):i.setAttribute(c,s===!0?"":s)}))})}function $o(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(o){var n=t.elements[o],i=t.attributes[o]||{},c=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:r[o]),s=c.reduce(function(l,f){return l[f]="",l},{});!te(n)||!pe(n)||(Object.assign(n.style,s),Object.keys(i).forEach(function(l){n.removeAttribute(l)}))})}}const Io={name:"applyStyles",enabled:!0,phase:"write",fn:Ao,effect:$o,requires:["computeStyles"]};function ce(e){return e.split("-")[0]}var ye=Math.max,ut=Math.min,Ee=Math.round;function Tt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function yr(){return!/^((?!chrome|android).)*safari/i.test(Tt())}function Ae(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var o=e.getBoundingClientRect(),n=1,i=1;t&&te(e)&&(n=e.offsetWidth>0&&Ee(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ee(o.height)/e.offsetHeight||1);var c=we(e)?ee(e):window,s=c.visualViewport,l=!yr()&&r,f=(o.left+(l&&s?s.offsetLeft:0))/n,p=(o.top+(l&&s?s.offsetTop:0))/i,b=o.width/n,C=o.height/i;return{width:b,height:C,top:p,right:f+b,bottom:p+C,left:f,x:f,y:p}}function $t(e){var t=Ae(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function wr(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&At(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ue(e){return ee(e).getComputedStyle(e)}function Do(e){return["table","td","th"].indexOf(pe(e))>=0}function me(e){return((we(e)?e.ownerDocument:e.document)||window.document).documentElement}function ht(e){return pe(e)==="html"?e:e.assignedSlot||e.parentNode||(At(e)?e.host:null)||me(e)}function er(e){return!te(e)||ue(e).position==="fixed"?null:e.offsetParent}function Mo(e){var t=/firefox/i.test(Tt()),r=/Trident/i.test(Tt());if(r&&te(e)){var o=ue(e);if(o.position==="fixed")return null}var n=ht(e);for(At(n)&&(n=n.host);te(n)&&["html","body"].indexOf(pe(n))<0;){var i=ue(n);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return n;n=n.parentNode}return null}function Ye(e){for(var t=ee(e),r=er(e);r&&Do(r)&&ue(r).position==="static";)r=er(r);return r&&(pe(r)==="html"||pe(r)==="body"&&ue(r).position==="static")?t:r||Mo(e)||t}function It(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ze(e,t,r){return ye(e,ut(t,r))}function Wo(e,t,r){var o=ze(e,t,r);return o>r?r:o}function Pr(){return{top:0,right:0,bottom:0,left:0}}function jr(e){return Object.assign({},Pr(),e)}function Cr(e,t){return t.reduce(function(r,o){return r[o]=e,r},{})}var Bo=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,jr(typeof t!="number"?t:Cr(t,qe))};function Lo(e){var t,r=e.state,o=e.name,n=e.options,i=r.elements.arrow,c=r.modifiersData.popperOffsets,s=ce(r.placement),l=It(s),f=[J,oe].indexOf(s)>=0,p=f?"height":"width";if(!(!i||!c)){var b=Bo(n.padding,r),C=$t(i),v=l==="y"?Q:J,w=l==="y"?re:oe,g=r.rects.reference[p]+r.rects.reference[l]-c[l]-r.rects.popper[p],x=c[l]-r.rects.reference[l],P=Ye(i),R=P?l==="y"?P.clientHeight||0:P.clientWidth||0:0,k=g/2-x/2,u=b[v],y=R-C[p]-b[w],O=R/2-C[p]/2+k,S=ze(u,O,y),M=l;r.modifiersData[o]=(t={},t[M]=S,t.centerOffset=S-O,t)}}function Uo(e){var t=e.state,r=e.options,o=r.element,n=o===void 0?"[data-popper-arrow]":o;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||wr(t.elements.popper,n)&&(t.elements.arrow=n))}const Fo={name:"arrow",enabled:!0,phase:"main",fn:Lo,effect:Uo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $e(e){return e.split("-")[1]}var No={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zo(e,t){var r=e.x,o=e.y,n=t.devicePixelRatio||1;return{x:Ee(r*n)/n||0,y:Ee(o*n)/n||0}}function tr(e){var t,r=e.popper,o=e.popperRect,n=e.placement,i=e.variation,c=e.offsets,s=e.position,l=e.gpuAcceleration,f=e.adaptive,p=e.roundOffsets,b=e.isFixed,C=c.x,v=C===void 0?0:C,w=c.y,g=w===void 0?0:w,x=typeof p=="function"?p({x:v,y:g}):{x:v,y:g};v=x.x,g=x.y;var P=c.hasOwnProperty("x"),R=c.hasOwnProperty("y"),k=J,u=Q,y=window;if(f){var O=Ye(r),S="clientHeight",M="clientWidth";if(O===ee(r)&&(O=me(r),ue(O).position!=="static"&&s==="absolute"&&(S="scrollHeight",M="scrollWidth")),O=O,n===Q||(n===J||n===oe)&&i===He){u=re;var E=b&&O===y&&y.visualViewport?y.visualViewport.height:O[S];g-=E-o.height,g*=l?1:-1}if(n===J||(n===Q||n===re)&&i===He){k=oe;var j=b&&O===y&&y.visualViewport?y.visualViewport.width:O[M];v-=j-o.width,v*=l?1:-1}}var U=Object.assign({position:s},f&&No),$=p===!0?zo({x:v,y:g},ee(r)):{x:v,y:g};if(v=$.x,g=$.y,l){var B;return Object.assign({},U,(B={},B[u]=R?"0":"",B[k]=P?"0":"",B.transform=(y.devicePixelRatio||1)<=1?"translate("+v+"px, "+g+"px)":"translate3d("+v+"px, "+g+"px, 0)",B))}return Object.assign({},U,(t={},t[u]=R?g+"px":"",t[k]=P?v+"px":"",t.transform="",t))}function _o(e){var t=e.state,r=e.options,o=r.gpuAcceleration,n=o===void 0?!0:o,i=r.adaptive,c=i===void 0?!0:i,s=r.roundOffsets,l=s===void 0?!0:s,f={placement:ce(t.placement),variation:$e(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,tr(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,tr(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Ho={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_o,data:{}};var at={passive:!0};function Vo(e){var t=e.state,r=e.instance,o=e.options,n=o.scroll,i=n===void 0?!0:n,c=o.resize,s=c===void 0?!0:c,l=ee(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&f.forEach(function(p){p.addEventListener("scroll",r.update,at)}),s&&l.addEventListener("resize",r.update,at),function(){i&&f.forEach(function(p){p.removeEventListener("scroll",r.update,at)}),s&&l.removeEventListener("resize",r.update,at)}}const qo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Vo,data:{}};var Yo={left:"right",right:"left",bottom:"top",top:"bottom"};function dt(e){return e.replace(/left|right|bottom|top/g,function(t){return Yo[t]})}var Xo={start:"end",end:"start"};function rr(e){return e.replace(/start|end/g,function(t){return Xo[t]})}function Dt(e){var t=ee(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function Mt(e){return Ae(me(e)).left+Dt(e).scrollLeft}function Go(e,t){var r=ee(e),o=me(e),n=r.visualViewport,i=o.clientWidth,c=o.clientHeight,s=0,l=0;if(n){i=n.width,c=n.height;var f=yr();(f||!f&&t==="fixed")&&(s=n.offsetLeft,l=n.offsetTop)}return{width:i,height:c,x:s+Mt(e),y:l}}function Ko(e){var t,r=me(e),o=Dt(e),n=(t=e.ownerDocument)==null?void 0:t.body,i=ye(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),c=ye(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),s=-o.scrollLeft+Mt(e),l=-o.scrollTop;return ue(n||r).direction==="rtl"&&(s+=ye(r.clientWidth,n?n.clientWidth:0)-i),{width:i,height:c,x:s,y:l}}function Wt(e){var t=ue(e),r=t.overflow,o=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+o)}function Or(e){return["html","body","#document"].indexOf(pe(e))>=0?e.ownerDocument.body:te(e)&&Wt(e)?e:Or(ht(e))}function _e(e,t){var r;t===void 0&&(t=[]);var o=Or(e),n=o===((r=e.ownerDocument)==null?void 0:r.body),i=ee(o),c=n?[i].concat(i.visualViewport||[],Wt(o)?o:[]):o,s=t.concat(c);return n?s:s.concat(_e(ht(c)))}function Rt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Qo(e,t){var r=Ae(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function or(e,t,r){return t===xr?Rt(Go(e,r)):we(t)?Qo(t,r):Rt(Ko(me(e)))}function Jo(e){var t=_e(ht(e)),r=["absolute","fixed"].indexOf(ue(e).position)>=0,o=r&&te(e)?Ye(e):e;return we(o)?t.filter(function(n){return we(n)&&wr(n,o)&&pe(n)!=="body"}):[]}function Zo(e,t,r,o){var n=t==="clippingParents"?Jo(e):[].concat(t),i=[].concat(n,[r]),c=i[0],s=i.reduce(function(l,f){var p=or(e,f,o);return l.top=ye(p.top,l.top),l.right=ut(p.right,l.right),l.bottom=ut(p.bottom,l.bottom),l.left=ye(p.left,l.left),l},or(e,c,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Tr(e){var t=e.reference,r=e.element,o=e.placement,n=o?ce(o):null,i=o?$e(o):null,c=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(n){case Q:l={x:c,y:t.y-r.height};break;case re:l={x:c,y:t.y+t.height};break;case oe:l={x:t.x+t.width,y:s};break;case J:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var f=n?It(n):null;if(f!=null){var p=f==="y"?"height":"width";switch(i){case Se:l[f]=l[f]-(t[p]/2-r[p]/2);break;case He:l[f]=l[f]+(t[p]/2-r[p]/2);break}}return l}function Ve(e,t){t===void 0&&(t={});var r=t,o=r.placement,n=o===void 0?e.placement:o,i=r.strategy,c=i===void 0?e.strategy:i,s=r.boundary,l=s===void 0?bo:s,f=r.rootBoundary,p=f===void 0?xr:f,b=r.elementContext,C=b===void 0?Ue:b,v=r.altBoundary,w=v===void 0?!1:v,g=r.padding,x=g===void 0?0:g,P=jr(typeof x!="number"?x:Cr(x,qe)),R=C===Ue?yo:Ue,k=e.rects.popper,u=e.elements[w?R:C],y=Zo(we(u)?u:u.contextElement||me(e.elements.popper),l,p,c),O=Ae(e.elements.reference),S=Tr({reference:O,element:k,strategy:"absolute",placement:n}),M=Rt(Object.assign({},k,S)),E=C===Ue?M:O,j={top:y.top-E.top+P.top,bottom:E.bottom-y.bottom+P.bottom,left:y.left-E.left+P.left,right:E.right-y.right+P.right},U=e.modifiersData.offset;if(C===Ue&&U){var $=U[n];Object.keys(j).forEach(function(B){var q=[oe,re].indexOf(B)>=0?1:-1,G=[Q,re].indexOf(B)>=0?"y":"x";j[B]+=$[G]*q})}return j}function en(e,t){t===void 0&&(t={});var r=t,o=r.placement,n=r.boundary,i=r.rootBoundary,c=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,f=l===void 0?br:l,p=$e(o),b=p?s?Zt:Zt.filter(function(w){return $e(w)===p}):qe,C=b.filter(function(w){return f.indexOf(w)>=0});C.length===0&&(C=b);var v=C.reduce(function(w,g){return w[g]=Ve(e,{placement:g,boundary:n,rootBoundary:i,padding:c})[ce(g)],w},{});return Object.keys(v).sort(function(w,g){return v[w]-v[g]})}function tn(e){if(ce(e)===Et)return[];var t=dt(e);return[rr(e),t,rr(t)]}function rn(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var n=r.mainAxis,i=n===void 0?!0:n,c=r.altAxis,s=c===void 0?!0:c,l=r.fallbackPlacements,f=r.padding,p=r.boundary,b=r.rootBoundary,C=r.altBoundary,v=r.flipVariations,w=v===void 0?!0:v,g=r.allowedAutoPlacements,x=t.options.placement,P=ce(x),R=P===x,k=l||(R||!w?[dt(x)]:tn(x)),u=[x].concat(k).reduce(function(D,N){return D.concat(ce(N)===Et?en(t,{placement:N,boundary:p,rootBoundary:b,padding:f,flipVariations:w,allowedAutoPlacements:g}):N)},[]),y=t.rects.reference,O=t.rects.popper,S=new Map,M=!0,E=u[0],j=0;j<u.length;j++){var U=u[j],$=ce(U),B=$e(U)===Se,q=[Q,re].indexOf($)>=0,G=q?"width":"height",F=Ve(t,{placement:U,boundary:p,rootBoundary:b,altBoundary:C,padding:f}),H=q?B?oe:J:B?re:Q;y[G]>O[G]&&(H=dt(H));var Y=dt(H),X=[];if(i&&X.push(F[$]<=0),s&&X.push(F[H]<=0,F[Y]<=0),X.every(function(D){return D})){E=U,M=!1;break}S.set(U,X)}if(M)for(var d=w?3:1,h=function(N){var L=u.find(function(K){var _=S.get(K);if(_)return _.slice(0,N).every(function(z){return z})});if(L)return E=L,"break"},T=d;T>0;T--){var V=h(T);if(V==="break")break}t.placement!==E&&(t.modifiersData[o]._skip=!0,t.placement=E,t.reset=!0)}}const on={name:"flip",enabled:!0,phase:"main",fn:rn,requiresIfExists:["offset"],data:{_skip:!1}};function nr(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function ar(e){return[Q,oe,re,J].some(function(t){return e[t]>=0})}function nn(e){var t=e.state,r=e.name,o=t.rects.reference,n=t.rects.popper,i=t.modifiersData.preventOverflow,c=Ve(t,{elementContext:"reference"}),s=Ve(t,{altBoundary:!0}),l=nr(c,o),f=nr(s,n,i),p=ar(l),b=ar(f);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:b},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":b})}const an={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nn};function sn(e,t,r){var o=ce(e),n=[J,Q].indexOf(o)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,c=i[0],s=i[1];return c=c||0,s=(s||0)*n,[J,oe].indexOf(o)>=0?{x:s,y:c}:{x:c,y:s}}function ln(e){var t=e.state,r=e.options,o=e.name,n=r.offset,i=n===void 0?[0,0]:n,c=br.reduce(function(p,b){return p[b]=sn(b,t.rects,i),p},{}),s=c[t.placement],l=s.x,f=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=f),t.modifiersData[o]=c}const cn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ln};function pn(e){var t=e.state,r=e.name;t.modifiersData[r]=Tr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const dn={name:"popperOffsets",enabled:!0,phase:"read",fn:pn,data:{}};function un(e){return e==="x"?"y":"x"}function fn(e){var t=e.state,r=e.options,o=e.name,n=r.mainAxis,i=n===void 0?!0:n,c=r.altAxis,s=c===void 0?!1:c,l=r.boundary,f=r.rootBoundary,p=r.altBoundary,b=r.padding,C=r.tether,v=C===void 0?!0:C,w=r.tetherOffset,g=w===void 0?0:w,x=Ve(t,{boundary:l,rootBoundary:f,padding:b,altBoundary:p}),P=ce(t.placement),R=$e(t.placement),k=!R,u=It(P),y=un(u),O=t.modifiersData.popperOffsets,S=t.rects.reference,M=t.rects.popper,E=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,j=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),U=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(O){if(i){var B,q=u==="y"?Q:J,G=u==="y"?re:oe,F=u==="y"?"height":"width",H=O[u],Y=H+x[q],X=H-x[G],d=v?-M[F]/2:0,h=R===Se?S[F]:M[F],T=R===Se?-M[F]:-S[F],V=t.elements.arrow,D=v&&V?$t(V):{width:0,height:0},N=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Pr(),L=N[q],K=N[G],_=ze(0,S[F],D[F]),z=k?S[F]/2-d-_-L-j.mainAxis:h-_-L-j.mainAxis,Pe=k?-S[F]/2+d+_+K+j.mainAxis:T+_+K+j.mainAxis,ie=t.elements.arrow&&Ye(t.elements.arrow),vt=ie?u==="y"?ie.clientTop||0:ie.clientLeft||0:0,Xe=(B=U==null?void 0:U[u])!=null?B:0,Ge=H+z-Xe-vt,se=H+Pe-Xe,Ie=ze(v?ut(Y,Ge):Y,H,v?ye(X,se):X);O[u]=Ie,$[u]=Ie-H}if(s){var Ke,he=u==="x"?Q:J,Qe=u==="x"?re:oe,ne=O[y],je=y==="y"?"height":"width",ve=ne+x[he],Ce=ne-x[Qe],Oe=[Q,J].indexOf(P)!==-1,Te=(Ke=U==null?void 0:U[y])!=null?Ke:0,ge=Oe?ve:ne-S[je]-M[je]-Te+j.altAxis,De=Oe?ne+S[je]+M[je]-Te-j.altAxis:Ce,Je=v&&Oe?Wo(ge,ne,De):ze(v?ge:ve,ne,v?De:Ce);O[y]=Je,$[y]=Je-ne}t.modifiersData[o]=$}}const mn={name:"preventOverflow",enabled:!0,phase:"main",fn,requiresIfExists:["offset"]};function hn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function vn(e){return e===ee(e)||!te(e)?Dt(e):hn(e)}function gn(e){var t=e.getBoundingClientRect(),r=Ee(t.width)/e.offsetWidth||1,o=Ee(t.height)/e.offsetHeight||1;return r!==1||o!==1}function xn(e,t,r){r===void 0&&(r=!1);var o=te(t),n=te(t)&&gn(t),i=me(t),c=Ae(e,n,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!r)&&((pe(t)!=="body"||Wt(i))&&(s=vn(t)),te(t)?(l=Ae(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Mt(i))),{x:c.left+s.scrollLeft-l.x,y:c.top+s.scrollTop-l.y,width:c.width,height:c.height}}function bn(e){var t=new Map,r=new Set,o=[];e.forEach(function(i){t.set(i.name,i)});function n(i){r.add(i.name);var c=[].concat(i.requires||[],i.requiresIfExists||[]);c.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&n(l)}}),o.push(i)}return e.forEach(function(i){r.has(i.name)||n(i)}),o}function yn(e){var t=bn(e);return Eo.reduce(function(r,o){return r.concat(t.filter(function(n){return n.phase===o}))},[])}function wn(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Pn(e){var t=e.reduce(function(r,o){var n=r[o.name];return r[o.name]=n?Object.assign({},n,o,{options:Object.assign({},n.options,o.options),data:Object.assign({},n.data,o.data)}):o,r},{});return Object.keys(t).map(function(r){return t[r]})}var ir={placement:"bottom",modifiers:[],strategy:"absolute"};function sr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function jn(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,o=r===void 0?[]:r,n=t.defaultOptions,i=n===void 0?ir:n;return function(s,l,f){f===void 0&&(f=i);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},ir,i),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},b=[],C=!1,v={state:p,setOptions:function(P){var R=typeof P=="function"?P(p.options):P;g(),p.options=Object.assign({},i,p.options,R),p.scrollParents={reference:we(s)?_e(s):s.contextElement?_e(s.contextElement):[],popper:_e(l)};var k=yn(Pn([].concat(o,p.options.modifiers)));return p.orderedModifiers=k.filter(function(u){return u.enabled}),w(),v.update()},forceUpdate:function(){if(!C){var P=p.elements,R=P.reference,k=P.popper;if(sr(R,k)){p.rects={reference:xn(R,Ye(k),p.options.strategy==="fixed"),popper:$t(k)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(j){return p.modifiersData[j.name]=Object.assign({},j.data)});for(var u=0;u<p.orderedModifiers.length;u++){if(p.reset===!0){p.reset=!1,u=-1;continue}var y=p.orderedModifiers[u],O=y.fn,S=y.options,M=S===void 0?{}:S,E=y.name;typeof O=="function"&&(p=O({state:p,options:M,name:E,instance:v})||p)}}}},update:wn(function(){return new Promise(function(x){v.forceUpdate(),x(p)})}),destroy:function(){g(),C=!0}};if(!sr(s,l))return v;v.setOptions(f).then(function(x){!C&&f.onFirstUpdate&&f.onFirstUpdate(x)});function w(){p.orderedModifiers.forEach(function(x){var P=x.name,R=x.options,k=R===void 0?{}:R,u=x.effect;if(typeof u=="function"){var y=u({state:p,name:P,instance:v,options:k}),O=function(){};b.push(y||O)}})}function g(){b.forEach(function(x){return x()}),b=[]}return v}}var Cn=[qo,dn,Ho,Io,cn,on,mn,Fo,an],On=jn({defaultModifiers:Cn});function Tn(e){return cr("MuiPopper",e)}pr("MuiPopper",["root"]);const Rn=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],kn=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Sn(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function kt(e){return typeof e=="function"?e():e}function En(e){return e.nodeType!==void 0}const An=e=>{const{classes:t}=e;return dr({root:["root"]},Tn,t)},$n={},In=m.forwardRef(function(t,r){var o;const{anchorEl:n,children:i,direction:c,disablePortal:s,modifiers:l,open:f,placement:p,popperOptions:b,popperRef:C,slotProps:v={},slots:w={},TransitionProps:g}=t,x=ft(t,Rn),P=m.useRef(null),R=Ct(P,r),k=m.useRef(null),u=Ct(k,C),y=m.useRef(u);Gt(()=>{y.current=u},[u]),m.useImperativeHandle(C,()=>k.current,[]);const O=Sn(p,c),[S,M]=m.useState(O),[E,j]=m.useState(kt(n));m.useEffect(()=>{k.current&&k.current.forceUpdate()}),m.useEffect(()=>{n&&j(kt(n))},[n]),Gt(()=>{if(!E||!f)return;const G=Y=>{M(Y.placement)};let F=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Y})=>{G(Y)}}];l!=null&&(F=F.concat(l)),b&&b.modifiers!=null&&(F=F.concat(b.modifiers));const H=On(E,P.current,W({placement:O},b,{modifiers:F}));return y.current(H),()=>{H.destroy(),y.current(null)}},[E,s,l,f,b,O]);const U={placement:S};g!==null&&(U.TransitionProps=g);const $=An(t),B=(o=w.root)!=null?o:"div",q=zr({elementType:B,externalSlotProps:v.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:R},ownerState:t,className:$.root});return a.jsx(B,W({},q,{children:typeof i=="function"?i(U):i}))}),Dn=m.forwardRef(function(t,r){const{anchorEl:o,children:n,container:i,direction:c="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:f,open:p,placement:b="bottom",popperOptions:C=$n,popperRef:v,style:w,transition:g=!1,slotProps:x={},slots:P={}}=t,R=ft(t,kn),[k,u]=m.useState(!0),y=()=>{u(!1)},O=()=>{u(!0)};if(!l&&!p&&(!g||k))return null;let S;if(i)S=i;else if(o){const j=kt(o);S=j&&En(j)?Xt(j).body:Xt(null).body}const M=!p&&l&&(!g||k)?"none":void 0,E=g?{in:p,onEnter:y,onExited:O}:void 0;return a.jsx(Nr,{disablePortal:s,container:S,children:a.jsx(In,W({anchorEl:o,direction:c,disablePortal:s,modifiers:f,ref:r,open:g?!k:p,placement:b,popperOptions:C,popperRef:v,slotProps:x,slots:P},R,{style:W({position:"fixed",top:0,left:0,display:M},w),TransitionProps:E,children:n}))})}),Mn=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Wn=mt(Dn,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Rr=m.forwardRef(function(t,r){var o;const n=vr(),i=ur({props:t,name:"MuiPopper"}),{anchorEl:c,component:s,components:l,componentsProps:f,container:p,disablePortal:b,keepMounted:C,modifiers:v,open:w,placement:g,popperOptions:x,popperRef:P,transition:R,slots:k,slotProps:u}=i,y=ft(i,Mn),O=(o=k==null?void 0:k.root)!=null?o:l==null?void 0:l.Root,S=W({anchorEl:c,container:p,disablePortal:b,keepMounted:C,modifiers:v,open:w,placement:g,popperOptions:x,popperRef:P,transition:R},y);return a.jsx(Wn,W({as:s,direction:n==null?void 0:n.direction,slots:{root:O},slotProps:u??f},S,{ref:r}))});function Bn(e){return cr("MuiTooltip",e)}const fe=pr("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ln=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Un(e){return Math.round(e*1e5)/1e5}const Fn=e=>{const{classes:t,disableInteractive:r,arrow:o,touch:n,placement:i}=e,c={popper:["popper",!r&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",n&&"touch",`tooltipPlacement${fr(i.split("-")[0])}`],arrow:["arrow"]};return dr(c,Bn,t)},Nn=mt(Rr,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>W({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${fe.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${fe.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${fe.arrow}`]:W({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${fe.arrow}`]:W({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),zn=mt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${fr(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>W({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:mr(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Un(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${fe.popper}[data-popper-placement*="left"] &`]:W({transformOrigin:"right center"},t.isRtl?W({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):W({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${fe.popper}[data-popper-placement*="right"] &`]:W({transformOrigin:"left center"},t.isRtl?W({marginRight:"14px"},t.touch&&{marginRight:"24px"}):W({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${fe.popper}[data-popper-placement*="top"] &`]:W({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${fe.popper}[data-popper-placement*="bottom"] &`]:W({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),_n=mt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:mr(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let it=!1;const lr=new Xr;let Fe={x:0,y:0};function st(e,t){return(r,...o)=>{t&&t(r,...o),e(r,...o)}}const lt=m.forwardRef(function(t,r){var o,n,i,c,s,l,f,p,b,C,v,w,g,x,P,R,k,u,y;const O=ur({props:t,name:"MuiTooltip"}),{arrow:S=!1,children:M,components:E={},componentsProps:j={},describeChild:U=!1,disableFocusListener:$=!1,disableHoverListener:B=!1,disableInteractive:q=!1,disableTouchListener:G=!1,enterDelay:F=100,enterNextDelay:H=0,enterTouchDelay:Y=700,followCursor:X=!1,id:d,leaveDelay:h=0,leaveTouchDelay:T=1500,onClose:V,onOpen:D,open:N,placement:L="bottom",PopperComponent:K,PopperProps:_={},slotProps:z={},slots:Pe={},title:ie,TransitionComponent:vt=Qt,TransitionProps:Xe}=O,Ge=ft(O,Ln),se=m.isValidElement(M)?M:a.jsx("span",{children:M}),Ie=_r(),Ke=Hr(),[he,Qe]=m.useState(),[ne,je]=m.useState(null),ve=m.useRef(!1),Ce=q||X,Oe=rt(),Te=rt(),ge=rt(),De=rt(),[Je,Bt]=Vr({controlled:N,default:!1,name:"Tooltip",state:"open"});let de=Je;const gt=qr(d),Me=m.useRef(),Ze=Kt(()=>{Me.current!==void 0&&(document.body.style.WebkitUserSelect=Me.current,Me.current=void 0),De.clear()});m.useEffect(()=>Ze,[Ze]);const Lt=A=>{lr.clear(),it=!0,Bt(!0),D&&!de&&D(A)},et=Kt(A=>{lr.start(800+h,()=>{it=!1}),Bt(!1),V&&de&&V(A),Oe.start(Ie.transitions.duration.shortest,()=>{ve.current=!1})}),tt=A=>{ve.current&&A.type!=="touchstart"||(he&&he.removeAttribute("title"),Te.clear(),ge.clear(),F||it&&H?Te.start(it?H:F,()=>{Lt(A)}):Lt(A))},xt=A=>{Te.clear(),ge.start(h,()=>{et(A)})},{isFocusVisibleRef:Ut,onBlur:kr,onFocus:Sr,ref:Er}=Yr(),[,Ft]=m.useState(!1),Nt=A=>{kr(A),Ut.current===!1&&(Ft(!1),xt(A))},zt=A=>{he||Qe(A.currentTarget),Sr(A),Ut.current===!0&&(Ft(!0),tt(A))},_t=A=>{ve.current=!0;const Z=se.props;Z.onTouchStart&&Z.onTouchStart(A)},Ar=A=>{_t(A),ge.clear(),Oe.clear(),Ze(),Me.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",De.start(Y,()=>{document.body.style.WebkitUserSelect=Me.current,tt(A)})},$r=A=>{se.props.onTouchEnd&&se.props.onTouchEnd(A),Ze(),ge.start(T,()=>{et(A)})};m.useEffect(()=>{if(!de)return;function A(Z){(Z.key==="Escape"||Z.key==="Esc")&&et(Z)}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[et,de]);const Ir=Ct(se.ref,Er,Qe,r);!ie&&ie!==0&&(de=!1);const bt=m.useRef(),Dr=A=>{const Z=se.props;Z.onMouseMove&&Z.onMouseMove(A),Fe={x:A.clientX,y:A.clientY},bt.current&&bt.current.update()},We={},yt=typeof ie=="string";U?(We.title=!de&&yt&&!B?ie:null,We["aria-describedby"]=de?gt:null):(We["aria-label"]=yt?ie:null,We["aria-labelledby"]=de&&!yt?gt:null);const ae=W({},We,Ge,se.props,{className:ot(Ge.className,se.props.className),onTouchStart:_t,ref:Ir},X?{onMouseMove:Dr}:{}),Be={};G||(ae.onTouchStart=Ar,ae.onTouchEnd=$r),B||(ae.onMouseOver=st(tt,ae.onMouseOver),ae.onMouseLeave=st(xt,ae.onMouseLeave),Ce||(Be.onMouseOver=tt,Be.onMouseLeave=xt)),$||(ae.onFocus=st(zt,ae.onFocus),ae.onBlur=st(Nt,ae.onBlur),Ce||(Be.onFocus=zt,Be.onBlur=Nt));const Mr=m.useMemo(()=>{var A;let Z=[{name:"arrow",enabled:!!ne,options:{element:ne,padding:4}}];return(A=_.popperOptions)!=null&&A.modifiers&&(Z=Z.concat(_.popperOptions.modifiers)),W({},_.popperOptions,{modifiers:Z})},[ne,_]),Le=W({},O,{isRtl:Ke,arrow:S,disableInteractive:Ce,placement:L,PopperComponentProp:K,touch:ve.current}),wt=Fn(Le),Ht=(o=(n=Pe.popper)!=null?n:E.Popper)!=null?o:Nn,Vt=(i=(c=(s=Pe.transition)!=null?s:E.Transition)!=null?c:vt)!=null?i:Qt,qt=(l=(f=Pe.tooltip)!=null?f:E.Tooltip)!=null?l:zn,Yt=(p=(b=Pe.arrow)!=null?b:E.Arrow)!=null?p:_n,Wr=nt(Ht,W({},_,(C=z.popper)!=null?C:j.popper,{className:ot(wt.popper,_==null?void 0:_.className,(v=(w=z.popper)!=null?w:j.popper)==null?void 0:v.className)}),Le),Br=nt(Vt,W({},Xe,(g=z.transition)!=null?g:j.transition),Le),Lr=nt(qt,W({},(x=z.tooltip)!=null?x:j.tooltip,{className:ot(wt.tooltip,(P=(R=z.tooltip)!=null?R:j.tooltip)==null?void 0:P.className)}),Le),Ur=nt(Yt,W({},(k=z.arrow)!=null?k:j.arrow,{className:ot(wt.arrow,(u=(y=z.arrow)!=null?y:j.arrow)==null?void 0:u.className)}),Le);return a.jsxs(m.Fragment,{children:[m.cloneElement(se,ae),a.jsx(Ht,W({as:K??Rr,placement:L,anchorEl:X?{getBoundingClientRect:()=>({top:Fe.y,left:Fe.x,right:Fe.x,bottom:Fe.y,width:0,height:0})}:he,popperRef:bt,open:he?de:!1,id:gt,transition:!0},Be,Wr,{popperOptions:Mr,children:({TransitionProps:A})=>a.jsx(Vt,W({timeout:Ie.transitions.duration.shorter},A,Br,{children:a.jsxs(qt,W({},Lr,{children:[ie,S?a.jsx(Yt,W({},Ur,{ref:je})):null]}))}))}))]})});function Hn({row:e,selected:t,onSelectRow:r,onModification:o}){var H,Y,X;const[n,i]=m.useState(!1),[c,s]=m.useState([]),[l,f]=m.useState(null),[p,b]=m.useState(!1),[C,v]=m.useState(null),[w,g]=m.useState(!1),[x,P]=m.useState(!1),[R,k]=m.useState(null),[u,y]=m.useState({image:[],title:"",price:"",description:"",checkouturl:"",shippingType:""}),O=m.useCallback(d=>{f(d.currentTarget)},[]),S=m.useCallback(()=>{f(null)},[]),M=()=>{y({image:Array.isArray(e==null?void 0:e.image)?e.image:[e==null?void 0:e.image],title:e==null?void 0:e.title,price:e==null?void 0:e.price,description:e==null?void 0:e.description,checkouturl:(e==null?void 0:e.checkouturl)||"",shippingType:e==null?void 0:e.shippingType}),b(!0),S()},E=()=>{b(!1)},j=d=>{y({...u,[d.target.name]:d.target.value})},U=async()=>{i(!0);try{(await be.put(`/api/product?id=${e._id}`,u)).status===200&&(o(),E())}catch(d){console.error("Update failed",d),alert("An error occurred while updating the product.")}finally{i(!1)}},$=m.useCallback(async d=>{if(window.confirm("Are you sure you want to delete ?"))try{(await be.delete(`/api/product?id=${d}`)).status===200&&o()}catch(T){console.error("Delete failed",T),alert("An error occurred while deleting the product.")}f(null)},[o]),B=async d=>{var h,T;if(d.target.files&&d.target.files.length>0&&R!==null){const V=d.target.files[0];console.log(V,"===>>"),g(!0);try{const D=await be.post("/fileUpload",{files:V},{headers:{"Content-Type":"multipart/form-data"}});console.log("===>>>response",(h=D==null?void 0:D.data)==null?void 0:h.data.urls[0]);const N=(T=D==null?void 0:D.data)==null?void 0:T.data.urls[0];D.status===200&&(y(L=>{const K=[...L.image];return K[R]=N,{...L,image:K}}),v(N))}catch(D){console.error("Image upload failed:",D),alert("Failed to upload image. Please try again.")}finally{g(!1)}}},q=async d=>{var h;if(d.target.files&&d.target.files.length>0){g(!0);try{const T=d.target.files,V=new FormData;Array.from(T).forEach(N=>{V.append("files",N)});const D=await be.post("/fileUpload",V,{headers:{"Content-Type":"multipart/form-data"}});if(D.status===200){const N=((h=D==null?void 0:D.data)==null?void 0:h.data.urls)||[];y(L=>({...L,image:[...L.image||[],...N]}))}}catch(T){console.error("Image upload failed:",T),alert("Failed to upload image(s). Please try again.")}finally{g(!1),d.target.value=""}}},G=d=>{y(h=>{const T=[...h.image];return T.splice(d,1),{...h,image:T}}),s(h=>{const T=[...h];return T.splice(d,1),T}),R===d&&k(null)},F=d=>{y(h=>({...h,[d.name]:d.value}))};return a.jsxs(a.Fragment,{children:[a.jsx(Ot,{open:p,onClose:E,children:a.jsx(I,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"90%",md:500},maxWidth:600,maxHeight:{xs:"90vh",sm:"85vh",md:"80vh"},bgcolor:"background.paper",boxShadow:24,borderRadius:2,overflow:"hidden",display:"flex",flexDirection:"column"},children:a.jsxs(I,{sx:{p:{xs:2,sm:3,md:4},overflowY:"auto",flexGrow:1,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:"#f1f1f1",borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#c1c1c1",borderRadius:"3px","&:hover":{backgroundColor:"#a8a8a8"}}},children:[a.jsx("h2",{style:{marginTop:0,marginBottom:"16px",fontSize:"clamp(1.25rem, 2.5vw, 1.5rem)",textAlign:"center"},children:"Edit Product"}),a.jsxs(I,{display:"flex",flexWrap:"wrap",gap:2,mb:0,sx:{p:1,border:"1px dashed #ccc",borderRadius:"8px",justifyContent:"flex-start"},children:[(H=u.image)==null?void 0:H.map((d,h)=>a.jsx(lt,{title:"Click to change image",children:a.jsxs(I,{position:"relative",sx:{width:80,height:80,borderRadius:2,overflow:"hidden",cursor:"pointer",border:R===h?"2px solid blue":"1px solid #ccc",flexShrink:0},children:[a.jsx(I,{component:"img",src:`${ct}${d}`,alt:`Product Image ${h}`,onClick:()=>{var T;k(h),(T=document.getElementById("editImageUpload"))==null||T.click()},sx:{width:"100%",height:"100%",objectFit:"cover"}}),(c==null?void 0:c[h])&&a.jsx(I,{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(255,255,255,0.6)",children:a.jsx(hr,{size:24})}),a.jsx(pt,{size:"small",onClick:T=>{T.stopPropagation(),G(h)},sx:{position:"absolute",top:2,right:2,bgcolor:"rgba(255,255,255,0.8)","&:hover":{bgcolor:"rgba(255,255,255,1)"}},children:a.jsx(xe,{icon:"eva:close-fill",width:18,height:18})})]})},h)),a.jsx(lt,{title:"Add new image",children:a.jsxs(I,{onClick:()=>{var d;return(d=document.getElementById("addImageUpload"))==null?void 0:d.click()},sx:{width:80,height:80,borderRadius:2,border:"2px dashed #ccc",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{borderColor:"#007bff",backgroundColor:"#f0f8ff"},flexShrink:0},children:[a.jsx(xe,{icon:"eva:plus-fill",width:24,height:24,color:"#777"}),a.jsx("input",{id:"addImageUpload",type:"file",accept:"image/*",style:{display:"none"},onChange:q})]})})]}),a.jsx(I,{display:"flex",justifyContent:"center",mb:3,children:a.jsx(I,{component:"label",htmlFor:"editImageUpload",tabIndex:0,onKeyDown:d=>{var h;(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),(h=document.getElementById("editImageUpload"))==null||h.click())},children:a.jsx("input",{id:"editImageUpload",type:"file",accept:"image/*",onChange:B,style:{display:"none"}})})}),a.jsx(le,{label:"Title",name:"title",fullWidth:!0,margin:"normal",size:"small",value:u.title,onChange:j,sx:{"& .MuiOutlinedInput-root":{fontSize:{xs:"0.875rem",sm:"1rem"}}}}),a.jsx(le,{label:"Price",name:"price",fullWidth:!0,margin:"normal",size:"small",value:u.price.startsWith("$")?u.price:`$${u.price}`,onChange:d=>{const h=d.target.value.replace(/[^0-9.]/g,"");F({name:"price",value:h})},sx:{"& .MuiOutlinedInput-root":{fontSize:{xs:"0.875rem",sm:"1rem"}}}}),a.jsx(le,{label:"CheckOut URL",name:"checkouturl",fullWidth:!0,margin:"normal",size:"small",value:u.checkouturl,onChange:j,sx:{"& .MuiOutlinedInput-root":{fontSize:{xs:"0.875rem",sm:"1rem"}}}}),a.jsx(le,{label:"Description",name:"description",fullWidth:!0,margin:"normal",multiline:!0,rows:4,size:"small",value:u.description,onChange:j,sx:{"& .MuiOutlinedInput-root":{fontSize:{xs:"0.875rem",sm:"1rem"}}}}),a.jsxs(le,{select:!0,label:"Shipping Type",name:"shippingType",fullWidth:!0,margin:"normal",size:"small",value:u.shippingType,onChange:j,sx:{"& .MuiOutlinedInput-root":{fontSize:{xs:"0.875rem",sm:"1rem"}}},children:[a.jsx(ke,{value:"free",children:"Free"}),a.jsx(ke,{value:"shipping",children:"Shipping"})]}),a.jsxs(I,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",gap:2,mt:3,children:[a.jsx(Ne,{variant:"contained",color:"primary",onClick:U,fullWidth:!0,sx:{order:{xs:2,sm:1},fontSize:{xs:"0.875rem",sm:"1rem"},py:{xs:1.5,sm:1}},children:"Save Changes"}),a.jsx(Ne,{variant:"outlined",onClick:E,fullWidth:!0,sx:{order:{xs:1,sm:2},fontSize:{xs:"0.875rem",sm:"1rem"},py:{xs:1.5,sm:1}},children:"Cancel"})]})]})})}),a.jsxs(Gr,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,sx:{"& .MuiTableCell-root":{padding:{xs:"8px 4px",sm:"16px 8px",md:"16px"},fontSize:{xs:"0.75rem",sm:"0.875rem",md:"1rem"}}},children:[a.jsx(Re,{padding:"checkbox",sx:{display:{xs:"none",sm:"table-cell"}}}),a.jsx(Re,{component:"th",scope:"row",sx:{minWidth:{xs:120,sm:150,md:200}},children:a.jsxs(I,{gap:2,display:"flex",alignItems:"center",sx:{flexDirection:{xs:"column",sm:"row"},textAlign:{xs:"center",sm:"left"}},children:[a.jsx(I,{onClick:()=>P(!0),sx:{transition:"transform 0.3s ease-in-out","&:hover":{transform:"scale(1.2)",cursor:"pointer"},borderRadius:"50%",overflow:"hidden",display:"inline-block"},children:a.jsx(Kr,{alt:"Product Image",src:e.image&&e.image.length>0?`${ct}${e.image[0]}`:void 0,sx:{width:{xs:40,sm:50,md:56},height:{xs:40,sm:50,md:56}}})}),a.jsx(I,{sx:{display:{xs:"block",sm:"none"},fontSize:"0.75rem",fontWeight:500,lineHeight:1.2,maxWidth:80,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.title})]})}),a.jsx(Re,{sx:{display:{xs:"none",sm:"table-cell"},maxWidth:{sm:120,md:200},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.jsx(lt,{title:e.title||"No title",arrow:!0,placement:"top",children:a.jsx(I,{component:"span",sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"help"},children:((Y=e.title)==null?void 0:Y.length)>0?a.jsxs(a.Fragment,{children:[a.jsx(I,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:e.title.length>30?`${e.title.slice(0,30)}...`:e.title}),a.jsx(I,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:e.title.length>100?`${e.title.slice(0,100)}...`:e.title})]}):a.jsx(I,{component:"span",sx:{fontStyle:"italic",color:"text.secondary"},children:"No title"})})})}),a.jsxs(Re,{sx:{fontWeight:600,color:"primary.main",minWidth:{xs:60,sm:80}},children:["$",(()=>{const d=e.price;return typeof d=="number"?`${d}`:typeof d=="string"?`${Number(d).toFixed(2)}`:d||"N/A"})()]}),a.jsx(Re,{align:"center",sx:{maxWidth:{xs:100,sm:150,md:300},overflow:"hidden"},children:a.jsx(lt,{title:e.description||"No description",arrow:!0,placement:"top",children:a.jsx(I,{component:"span",sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"help"},children:((X=e.description)==null?void 0:X.length)>0?a.jsxs(a.Fragment,{children:[a.jsx(I,{component:"span",sx:{display:{xs:"inline",sm:"none"}},children:e.description.length>30?`${e.description.slice(0,30)}...`:e.description}),a.jsx(I,{component:"span",sx:{display:{xs:"none",sm:"inline"}},children:e.description.length>100?`${e.description.slice(0,100)}...`:e.description})]}):a.jsx(I,{component:"span",sx:{fontStyle:"italic",color:"text.secondary"},children:"No description"})})})}),a.jsx(Re,{align:"right",sx:{minWidth:50,padding:{xs:"8px 4px",sm:"16px 8px"}},children:a.jsx(pt,{onClick:O,size:window.innerWidth<600?"small":"medium",sx:{"&:hover":{backgroundColor:"action.hover"}},children:a.jsx(xe,{icon:"eva:more-vertical-fill"})})})]}),a.jsx(Ot,{open:x,onClose:()=>P(!1),children:a.jsxs(I,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none",bgcolor:"rgba(0, 0, 0, 0.6)",p:3,borderRadius:2,maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto"},children:[a.jsx(pt,{onClick:()=>P(!1),sx:{position:"absolute",top:8,right:8,backgroundColor:"#fff",border:"1px solid #ccc",boxShadow:1,zIndex:1,"&:hover":{backgroundColor:"#f0f0f0"}},size:"small",children:a.jsx(xe,{icon:"eva:close-fill",width:15,height:15})}),a.jsx(I,{sx:{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"center",mt:2},children:(Array.isArray(e.image)?e.image:[e.image]).map((d,h)=>a.jsx(I,{sx:{width:100,height:100,borderRadius:1,overflow:"hidden",border:"1px solid #ccc",backgroundColor:"#f4f4f4",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.3s ease, border 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:a.jsx("img",{src:`${ct}${d}`,alt:`Product Image ${h+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},h))})]})}),a.jsx(Qr,{open:!!l,anchorEl:l,onClose:S,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:a.jsxs(Jr,{disablePadding:!0,sx:{p:.5,gap:.5,width:140,display:"flex",flexDirection:"column",[`& .${Jt.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${Jt.selected}`]:{bgcolor:"action.selected"}}},children:[a.jsxs(ke,{onClick:M,children:[a.jsx(xe,{icon:"solar:pen-bold"}),"Edit"]}),a.jsxs(ke,{onClick:()=>$(e==null?void 0:e._id),children:[a.jsx(xe,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})})]})}function Vn({row:e,selected:t,onSelectRow:r,onModification:o}){const[n,i]=m.useState(!1);m.useState("featured");const[c,s]=m.useState(!1);m.useState(!1);const[l,f]=m.useState(null),[p,b]=m.useState([]),[C,v]=m.useState(!1),[w,g]=m.useState({title:"",price:"",description:"",checkouturl:"",image:[],shippingType:""});m.useState(0),m.useState(5);const[x,P]=m.useState([]),[R,k]=m.useState(""),[u,y]=m.useState({image:"",title:"",price:"",description:""}),[O,S]=m.useState(0),[M,E]=m.useState(!1),[j,U]=m.useState({limit:10,page:0}),$=qn(),B=async(d,h)=>{var T,V,D,N,L,K,_;try{const z=await be.get(`/api/product?limit=${d}&page=${h+1}`);return P(((V=(T=z==null?void 0:z.data)==null?void 0:T.data)==null?void 0:V.data)||[]),S(((N=(D=z==null?void 0:z.data)==null?void 0:D.data)==null?void 0:N.totalCount)||0),((K=(L=z.data)==null?void 0:L.data)==null?void 0:K.users)||[]}catch(z){if(((_=z.response)==null?void 0:_.status)===404)return[];throw z}finally{E(!1)}};m.useEffect(()=>{E(!0),B(j.limit,j.page)},[j.limit,j.page]);const q=d=>{const{name:h,value:T}=d.target;g({...w,[h]:T})};if(M)return a.jsx(I,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:a.jsx(hr,{})});const G=async d=>{var T,V,D;const h=d.target.files;if(h&&h.length>0){v(!0);const N=[];try{for(const L of Array.from(h)){new FormData().append("image",L);const _=await be.post("/fileUpload",{files:L},{headers:{"Content-Type":"multipart/form-data"}});if(_.status===200){const z=(D=(V=(T=_==null?void 0:_.data)==null?void 0:T.data)==null?void 0:V.urls)==null?void 0:D[0];N.push(z)}}b(L=>[...L,...N]),g(L=>({...L,image:[...L.image,...N]}))}catch(L){console.error("Image upload failed:",L),alert("Failed to upload one or more images.")}finally{v(!1)}}},F=!!R,H=async()=>{const d={image:"",title:"",price:"",description:""};if(p||(d.image="Image is required"),w.title.trim()||(d.title="Title is required"),w.price.trim()?isNaN(Number(w.price))&&(d.price="Price must be a number"):d.price="Price is required",w.description.trim()||(d.description="Description is required"),y(d),!Object.values(d).some(h=>h!=="")){i(!0);try{(await be.post("/api/product",w)).status===200&&(Y(),B(j.limit,j.page),g({title:"",price:"",description:"",checkouturl:"",image:[],shippingType:""}),b([]))}catch(h){console.error("Creating product failed",h),alert("An error occurred while creating the product.")}finally{i(!1)}}},Y=()=>{s(!1),y({image:"",title:"",price:"",description:""}),g({title:"",price:"",description:"",checkouturl:"",image:[],shippingType:""}),f(null),b([])},X=d=>{const h=p.filter((T,V)=>V!==d);b(h),g(T=>({...T,image:h}))};return a.jsxs(Zr,{children:[a.jsxs(Pt,{variant:"h4",sx:{mb:5},children:["Products",a.jsx(Ne,{variant:"contained",size:"medium",style:{marginLeft:900,backgroundColor:"black"},onClick:()=>s(!0),children:"Add Product"})]}),a.jsxs(eo,{children:[a.jsx(to,{children:a.jsx(ro,{sx:{overflow:"unset"},children:a.jsxs(oo,{sx:{minWidth:800},children:[a.jsx(no,{order:$.order,orderBy:$.orderBy,rowCount:jt.length,numSelected:$.selected.length,onSort:$.onSort,onSelectAllRows:d=>$.onSelectAllRows(d,jt.map(h=>h.id)),headLabel:[{id:"image",label:"Image"},{id:"title",label:"Title"},{id:"price",label:"Price"},{id:"description",label:"Description",align:"center"},{id:""}]}),a.jsxs(ao,{children:[x.map(d=>a.jsx(Hn,{row:d,selected:$.selected.includes(d==null?void 0:d._id),onSelectRow:()=>$.onSelectRow(d==null?void 0:d._id),onModification:B},d==null?void 0:d._id)),a.jsx(po,{height:68,emptyRows:uo($.page,$.rowsPerPage,jt.length)}),F&&a.jsx(io,{searchQuery:R})]})]})})}),a.jsx(so,{component:"div",page:j.page,count:O,rowsPerPage:j.limit,onPageChange:(d,h)=>{U(T=>({...T,page:h})),$.setPage(h)},rowsPerPageOptions:[5,10,25],onRowsPerPageChange:d=>{var T;const h=parseInt(d.target.value,10);U({page:0,limit:h}),(T=$.setRowsPerPage)==null||T.call($,h)}})]}),a.jsx(Ot,{open:c,onClose:()=>s(!1),children:a.jsx(I,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"90%",md:500},maxWidth:600,maxHeight:{xs:"90vh",sm:"85vh",md:"80vh"},bgcolor:"background.paper",boxShadow:24,borderRadius:2,overflow:"hidden",display:"flex",flexDirection:"column"},children:a.jsxs(I,{sx:{p:{xs:2,sm:3,md:4},overflowY:"auto",flexGrow:1,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:"#f1f1f1",borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#c1c1c1",borderRadius:"3px","&:hover":{backgroundColor:"#a8a8a8"}}},children:[a.jsx("h2",{style:{marginTop:0,marginBottom:"16px",fontSize:"clamp(1.25rem, 2.5vw, 1.5rem)"},children:"Add Product"}),a.jsxs(I,{display:"flex",flexDirection:"column",alignItems:"center",mb:2,children:[a.jsx(I,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"center",mb:2},children:p.length>0?p.map((d,h)=>a.jsxs(I,{sx:{position:"relative",width:80,height:80,borderRadius:2,overflow:"hidden",border:"2px solid #ccc",backgroundColor:"#f4f4f4"},children:[a.jsx("img",{src:`${ct}${d}`,alt:`Uploaded ${h}`,style:{width:"100%",height:"100%",objectFit:"cover"}}),a.jsx(pt,{size:"small",onClick:()=>X(h),sx:{position:"absolute",top:-1,right:-1,backgroundColor:"#fff",border:"1px solid #ccc",boxShadow:1,"&:hover":{backgroundColor:"#f0f0f0"}},children:a.jsx(xe,{icon:"eva:close-fill",width:15,height:15})})]},h)):a.jsx(Pt,{variant:"caption",color:"textSecondary",children:"No images uploaded yet."})}),a.jsxs("label",{htmlFor:"imageUpload",style:{cursor:C?"not-allowed":"pointer",padding:"10px 20px",backgroundColor:C?"#6c757d":"#007bff",color:"white",borderRadius:"8px",display:"inline-block",fontSize:"clamp(0.875rem, 2vw, 1rem)",textAlign:"center",minWidth:"120px",opacity:C?.7:1,transition:"all 0.3s ease"},children:[C?"Uploading...":"Upload Images",a.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",multiple:!0,onChange:G,disabled:C,style:{display:"none"}})]}),u.image&&a.jsx(Pt,{color:"error",variant:"caption",sx:{mt:1},children:u.image})]}),a.jsx(le,{label:"Title",name:"title",fullWidth:!0,margin:"normal",size:"small",value:w.title,onChange:q,error:!!u.title,helperText:u.title}),a.jsx(le,{label:"Price",name:"price",fullWidth:!0,type:"number",margin:"normal",size:"small",value:w.price,onChange:q,error:!!u.price,helperText:u.price,InputProps:{startAdornment:a.jsx(fo,{position:"start",children:"$"})},sx:{"& .MuiOutlinedInput-root":{fontSize:{xs:"0.875rem",sm:"1rem"}}}}),a.jsx(le,{label:"CheckOut URL",name:"checkouturl",fullWidth:!0,margin:"normal",size:"small",value:w.checkouturl,onChange:q}),a.jsx(le,{label:"Description",name:"description",fullWidth:!0,margin:"normal",multiline:!0,rows:3,size:"small",value:w.description,onChange:q,error:!!u.description,helperText:u.description}),a.jsxs(le,{select:!0,label:"Shipping Type",name:"shippingType",fullWidth:!0,margin:"normal",size:"small",value:w.shippingType,onChange:q,children:[a.jsx(ke,{value:"free",children:"Free"}),a.jsx(ke,{value:"shipping",children:"Shipping"})]}),a.jsxs(I,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",gap:2,mt:3,children:[a.jsx(Ne,{variant:"contained",color:"primary",onClick:H,fullWidth:!0,sx:{order:{xs:2,sm:1}},children:"Add Product"}),a.jsx(Ne,{variant:"outlined",onClick:Y,fullWidth:!0,sx:{order:{xs:1,sm:2}},children:"Cancel"})]})]})})})]})}function qn(){const[e,t]=m.useState(0),[r,o]=m.useState("title"),[n,i]=m.useState(5),[c,s]=m.useState([]),[l,f]=m.useState("asc"),p=m.useCallback(x=>{f(r===x&&l==="asc"?"desc":"asc"),o(x)},[l,r]),b=m.useCallback((x,P)=>{if(x){s(P);return}s([])},[]),C=m.useCallback(x=>{const P=c.includes(x)?c.filter(R=>R!==x):[...c,x];s(P)},[c]),v=m.useCallback(()=>{t(0)},[]),w=m.useCallback((x,P)=>{t(P)},[]),g=m.useCallback(x=>{i(parseInt(x.target.value,10)),v()},[v]);return{page:e,order:l,onSort:p,orderBy:r,selected:c,rowsPerPage:n,onSelectRow:C,onResetPage:v,onChangePage:w,onSelectAllRows:b,onChangeRowsPerPage:g,setRowsPerPage:i,setPage:t}}function Qn(){return a.jsxs(a.Fragment,{children:[a.jsx(lo,{children:a.jsxs("title",{children:[" ",`Products - ${co.appName}`]})}),a.jsx(Vn,{})]})}export{Qn as default};
